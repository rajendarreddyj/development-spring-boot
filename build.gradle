/*
 * This build file was generated by the Gradle 'init' task.
 *
 * This generated file contains a sample Java project to get you started.
 * For more details take a look at the Java Quickstart chapter in the Gradle
 * user guide available at https://docs.gradle.org/3.3/userguide/tutorial_java_projects.html
 */

// define the group of the GAV
group = 'com.rajendarreddyj'

// define the version of the GAV
version = 1.0

description = "Root project of the Spring Boot projects that uses Gradle."


allprojects {

	//Instructions for all projects
	ext {
		// compile/runtime dependency versions
		springBootVersion = '2.0.3.RELEASE'
		springKafkaVersion = '2.1.7.RELEASE'
		reactorVersion='3.1.8.RELEASE'
		springCloudDepVersion='Finchley.RELEASE'
		springCloudVersion = '2.0.0.RELEASE'
		springFrameworkVersion = '5.0.7.RELEASE'
		kafkaVersion='1.1.0'
		lombokVersion='1.18.0'
		junitVersion='5.2.0'

		gradleaptpluginVersion='0.16'
	}
}

subprojects {
	//Instructions for each sub project
	// Apply the java plugin to add support for Java
	apply plugin: 'java'
	apply plugin: 'eclipse'
	apply plugin: 'idea'
	group = rootProject.group
	version = rootProject.version

	// In this section you declare where to find the dependencies of your project
	repositories {
		// Use jcenter for resolving your dependencies.
		// You can declare any Maven/Ivy/file repository here.
		jcenter()
		mavenLocal()
		mavenCentral()
		maven {
			url "http://repo.maven.apache.org/maven2"
		}
	}

	buildscript {
		repositories {
			jcenter()
		    mavenLocal()
			mavenCentral()
			maven {
				url "http://repo.maven.apache.org/maven2"
			}
		}
		dependencies {
		    classpath("org.springframework.boot:spring-boot-gradle-plugin:${springBootVersion}")
		}
	}

	dependencies {
		// The production code uses kotlin
		//compile("org.springframework.boot:spring-boot-starter-webflux:${springBootVersion}")
		//testCompile("org.springframework.boot:spring-boot-starter-test:${springBootVersion}")
		//testCompile("io.projectreactor:reactor-test:${reactorVersion}")
		// Use JUnit test framework
        testCompileOnly (
				"junit:junit:4.12"
		)
		testImplementation(
				"org.junit.jupiter:junit-jupiter-api:${junitVersion}"
		)
		testRuntimeOnly(
				"org.junit.jupiter:junit-jupiter-engine:${junitVersion}",
				"org.junit.vintage:junit-vintage-engine:${junitVersion}"
		)
	}

    test {
        useJUnitPlatform()
    }

}

// Running 'gradle wrapper' will generate gradlew - Getting gradle wrapper working and using it will save you a lot of pain.
task wrapper(type: Wrapper) {
	gradleVersion = '4.9'
}
